# -*- coding: UTF-8 -*-
# Syntax definition automatically generated by hljs2xt.py
# source: twig.js
name = 'Twig'
file_patterns = ['*.twig', '*.craftcms']

flags = re.IGNORECASE | re.MULTILINE

doctag = [RE(r"(?:TODO|FIXME|NOTE|BUG|XXX):")]

class comment:
    default_text_color = DELIMITER
    rules = [
        # ignore {'begin': {'pattern': "\\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|like)\\b", 'type': 'RegExp'}},
        ('doctag', doctag),
    ]

keyword = """
    autoescape block do embed extends filter flush for if import include
    macro sandbox set spaceless use verbatim endautoescape endblock
    enddo endembed endextends endfilter endflush endfor endif endimport
    endinclude endmacro endsandbox endset endspaceless enduse
    endverbatim
    """.split()

class name0:
    default_text_color = DELIMITER
    rules = [('keyword', keyword)]
name0.__name__ = 'name'

class name1:
    default_text_color = DELIMITER
    rules = [('keyword', keyword), ('name', RE(r"\w+"), [RE(r"\B|\b")], name0)]
name1.__name__ = 'name'

keyword0 = """
    abs batch capitalize convert_encoding date date_modify default
    escape first format join json_encode keys last length lower merge
    nl2br number_format raw replace reverse round slice sort split
    striptags title trim upper url_encode
    """.split()

name2 = """
    attribute block constant cycle date dump include max min parent
    random range source template_from_string
    """.split()

class _group2:
    default_text_color = DELIMITER
    rules = [
        ('name', name2),
        ('keyword', name2),
        ('params', RE(r"\("), [RE(r"\)")]),
    ]

class _group1:
    default_text_color = DELIMITER
    rules = [
        ('keyword', keyword0),
        ('_group2', RE(r"\b(?:attribute|block|constant|cycle|date|dump|include|max|min|parent|random|range|source|template_from_string)"), [RE(r"\B\b")], _group2),
    ]

class _group0:
    default_text_color = DELIMITER
    rules = [
        ('_group1', RE(r"\|[A-Za-z_]+:?"), [RE(r"\B\b")], _group1),
        _group1.rules[1],
    ]

class template_tag:
    default_text_color = DELIMITER
    rules = [('name', name1, [RE(r"\B\b")], _group0)]
template_tag.__name__ = 'template-tag'

class template_variable:
    default_text_color = DELIMITER
    rules = [_group0.rules[0], _group1.rules[1]]
template_variable.__name__ = 'template-variable'

rules = [
    ('comment', RE(r"\{#"), [RE(r"#}")], comment),
    ('template-tag', RE(r"\{%"), [RE(r"%}")], template_tag),
    ('template-variable', RE(r"\{\{"), [RE(r"}}")], template_variable),
]
